<style>.page{position:relative;margin-left:auto;margin-right:auto;padding-bottom:10px;height:1350px;width:950px}.testCanvas{position:absolute;top:260px;left:32px}</style><div id=page class=page><img src=/files/canvaspages/testpage.png><canvas class=testCanvas id=test_canvas></canvas></div><script>var ratio=window.devicePixelRatio||1;function toHiDpiCanvas(t,e,a){return t.style.width=e+"px",t.style.height=a+"px",t.width=e*ratio,t.height=a*ratio,t.getContext("2d").scale(ratio,ratio),t}var testCanvas=document.getElementById("test_canvas"),testContext=testCanvas.getContext("2d");1!=ratio&&(testCanvas=toHiDpiCanvas(testCanvas,505,325)),testContext.fillStyle="rgba(143, 234, 230, 0.5)",testContext.fillRect(0,0,testCanvas.width/ratio,testCanvas.height/ratio),testContext.font="30px Lucida Console",testContext.fillStyle="rgba(255, 0, 255, 1.0)",testContext.fillText("Try clicking this panel.",50,100),testCanvas.addEventListener("click",function(t){var e=document.createElement("canvas");e.id="fx_canvas",e.width=700,e.height=700,e.style.top="0px",e.style.left="0px",e.style.zIndex=2,e.style.position="absolute",1!=ratio&&(e=toHiDpiCanvas(e,700,700));var a=document.getElementById("page");a.appendChild(e);var i=e.getContext("2d");i.fillStyle="rgba(0, 0, 255, 0.3)",i.fillRect(0,0,e.width,e.height),i.clearRect(32,260,testCanvas.width/ratio,testCanvas.height/ratio),e.addEventListener("click",function(t){a.removeChild(e)},!1)},!1);</script>